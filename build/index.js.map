{"version":3,"file":"index.js","mappings":"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","sources":["webpack://block-gatherpress-countdown/./src/edit.js","webpack://block-gatherpress-countdown/./src/editor.scss","webpack://block-gatherpress-countdown/./src/index.js","webpack://block-gatherpress-countdown/./src/style.scss","webpack://block-gatherpress-countdown/external window [\"wp\",\"blockEditor\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"blocks\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"components\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"coreData\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"data\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"date\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"element\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"i18n\"]","webpack://block-gatherpress-countdown/external window \"ReactJSXRuntime\"","webpack://block-gatherpress-countdown/webpack/bootstrap","webpack://block-gatherpress-countdown/webpack/runtime/chunk loaded","webpack://block-gatherpress-countdown/webpack/runtime/compat get default export","webpack://block-gatherpress-countdown/webpack/runtime/define property getters","webpack://block-gatherpress-countdown/webpack/runtime/hasOwnProperty shorthand","webpack://block-gatherpress-countdown/webpack/runtime/make namespace object","webpack://block-gatherpress-countdown/webpack/runtime/jsonp chunk loading","webpack://block-gatherpress-countdown/webpack/before-startup","webpack://block-gatherpress-countdown/webpack/startup","webpack://block-gatherpress-countdown/webpack/after-startup"],"sourcesContent":["/**\n * Retrieves the translation of text.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-i18n/\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * React hook that is used to mark the block wrapper element.\n * It provides all the necessary props like the class name.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-block-editor/#useblockprops\n */\nimport { useBlockProps, InspectorControls, BlockControls } from '@wordpress/block-editor';\n\nimport { \n\tPanelBody, \n\tToggleControl,\n\tToolbarGroup,\n\tToolbarButton,\n\tDropdown,\n\tDateTimePicker,\n\tNotice,\n\tComboboxControl,\n\tSpinner,\n\tMenuGroup,\n\tMenuItem,\n\tButton,\n\tRadioControl\n} from '@wordpress/components';\n\nimport { useState, useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { dateI18n, getSettings } from '@wordpress/date';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * Those files can contain any CSS code that gets applied to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './editor.scss';\n\n/**\n * Time segment configuration type.\n *\n * @typedef {Object} SegmentConfig\n * @property {boolean} showYears   - Whether to show years.\n * @property {boolean} showMonths  - Whether to show months.\n * @property {boolean} showWeeks   - Whether to show weeks.\n * @property {boolean} showDays    - Whether to show days.\n * @property {boolean} showHours   - Whether to show hours.\n * @property {boolean} showMinutes - Whether to show minutes.\n * @property {boolean} showSeconds - Whether to show seconds.\n */\n\n/**\n * Time difference result type.\n *\n * @typedef {Object} TimeDifference\n * @property {number} years   - Years remaining.\n * @property {number} months  - Months remaining.\n * @property {number} weeks   - Weeks remaining.\n * @property {number} days    - Days remaining.\n * @property {number} hours   - Hours remaining.\n * @property {number} minutes - Minutes remaining.\n * @property {number} seconds - Seconds remaining.\n * @property {number} total   - Total difference in milliseconds.\n */\n\n/**\n * Time segment type.\n *\n * @typedef {Object} Segment\n * @property {string} type  - Segment type (years, months, etc).\n * @property {number} value - Segment value.\n * @property {string} label - Translated label.\n */\n\n/**\n * Time unit conversion constants in seconds.\n *\n * @type {Object.<string, number>}\n */\nconst TIME_UNITS = {\n\tyears: 365.25 * 24 * 60 * 60,\n\tmonths: 30.44 * 24 * 60 * 60,\n\tweeks: 7 * 24 * 60 * 60,\n\tdays: 24 * 60 * 60,\n\thours: 60 * 60,\n\tminutes: 60,\n\tseconds: 1,\n};\n\n/**\n * Order of time segments from largest to smallest.\n *\n * @type {string[]}\n */\nconst SEGMENT_ORDER = ['years', 'months', 'weeks', 'days', 'hours', 'minutes', 'seconds'];\n\n/**\n * Calculate time difference with cascading based on selected segments.\n *\n * @param {string}        targetDateTime - The target date/time in ISO format.\n * @param {SegmentConfig} segments       - Object indicating which segments are shown.\n * @return {TimeDifference} Object containing calculated time values.\n */\nfunction calculateTimeDifference( targetDateTime, segments ) {\n\tif ( ! targetDateTime ) {\n\t\treturn SEGMENT_ORDER.reduce( ( acc, key ) => ({ ...acc, [key]: 0 }), { total: 0 } );\n\t}\n\n\tconst now = new Date().getTime();\n\tconst target = new Date( targetDateTime ).getTime();\n\tconst difference = target - now;\n\tconst absDifference = Math.abs( difference );\n\n\tlet remainingSeconds = Math.floor( absDifference / 1000 );\n\tconst result = { total: difference };\n\n\t// Calculate each segment in order, subtracting from remainingSeconds\n\tSEGMENT_ORDER.forEach( ( segment ) => {\n\t\tconst showKey = `show${segment.charAt(0).toUpperCase() + segment.slice(1)}`;\n\t\t\n\t\tif ( segments[showKey] ) {\n\t\t\tresult[segment] = Math.floor( remainingSeconds / TIME_UNITS[segment] );\n\t\t\tremainingSeconds -= result[segment] * TIME_UNITS[segment];\n\t\t} else {\n\t\t\tresult[segment] = 0;\n\t\t}\n\t} );\n\n\treturn result;\n}\n\n/**\n * Format number with leading zero.\n *\n * @param {number} num - The number to format.\n * @return {string} Formatted number string.\n */\nfunction formatNumber( num ) {\n\treturn num.toString().padStart( 2, '0' );\n}\n\n/**\n * Get label for time segment.\n *\n * @param {string} type  - Segment type (years, months, etc).\n * @param {number} value - Segment value.\n * @return {string} Translated label.\n */\nfunction getSegmentLabel( type, value ) {\n\tconst labels = {\n\t\tyears: value === 1 ? __( 'Year' ) : __( 'Years' ),\n\t\tmonths: value === 1 ? __( 'Month' ) : __( 'Months' ),\n\t\tweeks: value === 1 ? __( 'Week' ) : __( 'Weeks' ),\n\t\tdays: value === 1 ? __( 'Day' ) : __( 'Days' ),\n\t\thours: value === 1 ? __( 'Hour' ) : __( 'Hours' ),\n\t\tminutes: value === 1 ? __( 'Minute' ) : __( 'Minutes' ),\n\t\tseconds: value === 1 ? __( 'Second' ) : __( 'Seconds' ),\n\t};\n\treturn labels[ type ] || '';\n}\n\n/**\n * Custom hook to fetch GatherPress events.\n *\n * @param {string} mode - Display mode to filter events ('countdown' for upcoming, 'countup' for past).\n * @return {Object} Events data and loading state.\n */\nfunction useGatherPressEvents( mode ) {\n\treturn useSelect( ( select ) => {\n\t\tconst { getEntityRecords, isResolving } = select( coreStore );\n\t\tconst queryArgs = {\n\t\t\tper_page: 100,\n\t\t\tstatus: 'publish',\n\t\t\torder: mode === 'countup' ? 'desc' : 'asc',\n\t\t\tgatherpress_event_query: mode === 'countup' ? 'past' : 'upcoming',\n\t\t};\n\t\t\n\t\treturn {\n\t\t\tevents: getEntityRecords( 'postType', 'gatherpress_event', queryArgs ) || [],\n\t\t\tisLoadingEvents: isResolving( 'getEntityRecords', [\n\t\t\t\t'postType',\n\t\t\t\t'gatherpress_event',\n\t\t\t\tqueryArgs,\n\t\t\t] ),\n\t\t};\n\t}, [ mode ] );\n}\n\n/**\n * Custom hook to fetch GatherPress taxonomies.\n *\n * @return {Object} Taxonomies data and loading state.\n */\nfunction useGatherPressTaxonomies() {\n\treturn useSelect( ( select ) => {\n\t\tconst { getTaxonomies, isResolving } = select( coreStore );\n\t\tconst queryArgs = { per_page: -1 };\n\t\t\n\t\tconst allTaxonomies = getTaxonomies( queryArgs ) || [];\n\t\tconst eventTaxonomies = allTaxonomies.filter( \n\t\t\ttax => tax.types && tax.types.includes( 'gatherpress_event' )\n\t\t);\n\t\t\n\t\treturn {\n\t\t\ttaxonomies: eventTaxonomies,\n\t\t\tisLoadingTaxonomies: isResolving( 'getTaxonomies', [ queryArgs ] ),\n\t\t};\n\t}, [] );\n}\n\n/**\n * Custom hook to fetch terms for a taxonomy.\n *\n * @param {string} taxonomy - Taxonomy slug.\n * @return {Object} Terms data and loading state.\n */\nfunction useTaxonomyTerms( taxonomy ) {\n\treturn useSelect( \n\t\t( select ) => {\n\t\t\tif ( ! taxonomy ) {\n\t\t\t\treturn { terms: [], isLoadingTerms: false };\n\t\t\t}\n\t\t\t\n\t\t\tconst { getEntityRecords, isResolving } = select( coreStore );\n\t\t\tconst queryArgs = { per_page: 100 };\n\t\t\t\n\t\t\treturn {\n\t\t\t\tterms: getEntityRecords( 'taxonomy', taxonomy, queryArgs ) || [],\n\t\t\t\tisLoadingTerms: isResolving( 'getEntityRecords', [\n\t\t\t\t\t'taxonomy',\n\t\t\t\t\ttaxonomy,\n\t\t\t\t\tqueryArgs,\n\t\t\t\t] ),\n\t\t\t};\n\t\t},\n\t\t[ taxonomy ]\n\t);\n}\n\n/**\n * Custom hook to fetch next event from a term.\n *\n * @param {string} taxonomy - Taxonomy slug.\n * @param {number} termId   - Term ID.\n * @param {string} mode     - Display mode to filter events ('countdown' for upcoming, 'countup' for past).\n * @return {Object} Next event data and loading state.\n */\nfunction useNextEventFromTerm( taxonomy, termId, mode ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! taxonomy || ! termId ) {\n\t\t\t\treturn { nextEventFromTerm: null, isLoadingNextEvent: false };\n\t\t\t}\n\t\t\t\n\t\t\tconst { getEntityRecords, isResolving } = select( coreStore );\n\t\t\tconst queryArgs = {\n\t\t\t\tper_page: 1,\n\t\t\t\tstatus: 'publish',\n\t\t\t\t[taxonomy]: termId,\n\t\t\t\tgatherpress_event_query: mode === 'countup' ? 'past' : 'upcoming',\n\t\t\t\torder: mode === 'countup' ? 'desc' : 'asc',\n\t\t\t};\n\t\t\t\n\t\t\tconst events = getEntityRecords( 'postType', 'gatherpress_event', queryArgs ) || [];\n\t\t\t\n\t\t\treturn {\n\t\t\t\tnextEventFromTerm: events.length > 0 ? events[0] : null,\n\t\t\t\tisLoadingNextEvent: isResolving( 'getEntityRecords', [\n\t\t\t\t\t'postType',\n\t\t\t\t\t'gatherpress_event',\n\t\t\t\t\tqueryArgs,\n\t\t\t\t] ),\n\t\t\t};\n\t\t},\n\t\t[ taxonomy, termId, mode ]\n\t);\n}\n\n/**\n * Custom hook to fetch a specific GatherPress event.\n *\n * @param {number} eventId - Event post ID.\n * @return {Object|null} Event post object or null.\n */\nfunction useGatherPressEvent( eventId ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! eventId ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t\n\t\t\tconst { getEntityRecord } = select( coreStore );\n\t\t\treturn getEntityRecord( 'postType', 'gatherpress_event', eventId );\n\t\t},\n\t\t[ eventId ]\n\t);\n}\n\n/**\n * Custom hook to get context event date.\n *\n * @param {number}  contextPostId   - Context post ID.\n * @param {string}  contextPostType - Context post type.\n * @param {boolean} isEventContext  - Whether in event context.\n * @return {string|null} Event date or null.\n */\nfunction useContextEventDate( contextPostId, contextPostType, isEventContext ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! isEventContext || ! contextPostId ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t\n\t\t\tconst { getEntityRecord } = select( coreStore );\n\t\t\tconst post = getEntityRecord( 'postType', 'gatherpress_event', contextPostId );\n\t\t\treturn post?.meta?.gatherpress_datetime_start || null;\n\t\t},\n\t\t[ isEventContext, contextPostId ]\n\t);\n}\n\n/**\n * Render a loading state component.\n *\n * @param {string} message - Loading message.\n * @return {Element} Loading component.\n */\nfunction LoadingState( { message } ) {\n\treturn (\n\t\t<div className=\"gatherpress-countdown-loading\">\n\t\t\t<Spinner />\n\t\t\t<p>{ message }</p>\n\t\t</div>\n\t);\n}\n\n/**\n * Render an empty state component.\n *\n * @param {string}  message - Empty state message.\n * @param {Element} action  - Optional action button.\n * @return {Element} Empty state component.\n */\nfunction EmptyState( { message, action } ) {\n\treturn (\n\t\t<div className=\"gatherpress-countdown-no-events\">\n\t\t\t<p>{ message }</p>\n\t\t\t{ action }\n\t\t</div>\n\t);\n}\n\n/**\n * Render a sync notice component.\n *\n * @param {string} message - Notice message.\n * @return {Element} Notice component.\n */\nfunction SyncNotice( { message } ) {\n\treturn (\n\t\t<p className=\"gatherpress-countdown-event-sync-note\">\n\t\t\t{ message }\n\t\t</p>\n\t);\n}\n\n/**\n * Render an event indicator badge.\n *\n * @param {string} emoji   - Badge emoji.\n * @param {string} message - Badge message.\n * @param {string} variant - Badge variant class.\n * @return {Element} Badge component.\n */\nfunction EventIndicator( { emoji, message, variant = '' } ) {\n\treturn (\n\t\t<div className={`gatherpress-countdown-event-indicator ${variant}`}>\n\t\t\t<span className=\"gatherpress-countdown-event-badge\">{ emoji }</span>\n\t\t\t<span>{ message }</span>\n\t\t</div>\n\t);\n}\n\n/**\n * The edit function describes the structure of your block in the context of the\n * editor. This represents what the editor will render when the block is used.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-edit-save/#edit\n *\n * @param {Object}   props               - Block props.\n * @param {Object}   props.attributes    - Block attributes.\n * @param {Function} props.setAttributes - Function to set block attributes.\n * @param {string}   props.clientId      - Block client ID.\n * @param {Object}   props.context       - Block context.\n * @return {Element} Element to render.\n */\nexport default function Edit( { attributes, setAttributes, clientId, context } ) {\n\tconst { \n\t\ttargetDateTime, \n\t\tgatherPressEventId,\n\t\tgatherPressTaxonomy,\n\t\tgatherPressTermId,\n\t\tmode,\n\t\tautoMode,\n\t\teventMode,\n\t\ttaxonomyMode,\n\t\tshowLabels,\n\t\tshowYears,\n\t\tshowMonths,\n\t\tshowWeeks,\n\t\tshowDays,\n\t\tshowHours,\n\t\tshowMinutes,\n\t\tshowSeconds\n\t} = attributes;\n\t\n\tconst segmentConfig = {\n\t\tshowYears,\n\t\tshowMonths,\n\t\tshowWeeks,\n\t\tshowDays,\n\t\tshowHours,\n\t\tshowMinutes,\n\t\tshowSeconds\n\t};\n\t\n\tconst [ timeLeft, setTimeLeft ] = useState( calculateTimeDifference( targetDateTime, segmentConfig ) );\n\tconst [ openDropdown, setOpenDropdown ] = useState( null );\n\tconst { updateBlockAttributes } = useDispatch( 'core/block-editor' );\n\n\t// Get WordPress date and time format settings\n\tconst dateSettings = getSettings();\n\tconst dateFormat = dateSettings.formats.date;\n\tconst timeFormat = dateSettings.formats.time;\n\tconst dateTimeFormat = `${dateFormat} ${timeFormat}`;\n\n\t// Get context post ID and type\n\tconst contextPostId = context?.postId;\n\tconst contextPostType = context?.postType;\n\tconst isEventContext = contextPostType === 'gatherpress_event';\n\n\t// Fetch all data using custom hooks\n\tconst contextEventDate = useContextEventDate( contextPostId, contextPostType, isEventContext );\n\tconst { events, isLoadingEvents } = useGatherPressEvents( eventMode );\n\tconst { taxonomies, isLoadingTaxonomies } = useGatherPressTaxonomies();\n\tconst { terms, isLoadingTerms } = useTaxonomyTerms( gatherPressTaxonomy );\n\tconst { nextEventFromTerm, isLoadingNextEvent } = useNextEventFromTerm( gatherPressTaxonomy, gatherPressTermId, taxonomyMode );\n\tconst selectedEvent = useGatherPressEvent( gatherPressEventId );\n\n\t// Determine which source is active\n\tconst isManualDate = targetDateTime && ! gatherPressEventId && ! gatherPressTermId && ! isEventContext;\n\tconst isSyncedEvent = gatherPressEventId > 0;\n\tconst isSyncedTerm = gatherPressTermId > 0;\n\tconst isContextDate = isEventContext && contextEventDate && ! gatherPressEventId && ! gatherPressTermId && targetDateTime === contextEventDate;\n\n\t// Auto-sync with context event date when in event context\n\tuseEffect( () => {\n\t\tif ( isEventContext && contextEventDate ) {\n\t\t\tif ( ! targetDateTime && ! gatherPressEventId && ! gatherPressTermId ) {\n\t\t\t\tsetAttributes( { targetDateTime: contextEventDate } );\n\t\t\t}\n\t\t}\n\t}, [ isEventContext, contextEventDate, targetDateTime, gatherPressEventId, gatherPressTermId ] );\n\n\t// Update target date when synced sources change\n\tuseEffect( () => {\n\t\tconst eventDate = nextEventFromTerm?.meta?.gatherpress_datetime_start;\n\t\tif ( eventDate && eventDate !== targetDateTime ) {\n\t\t\tsetAttributes( { targetDateTime: eventDate } );\n\t\t}\n\t}, [ nextEventFromTerm ] );\n\n\tuseEffect( () => {\n\t\tconst eventDate = selectedEvent?.meta?.gatherpress_datetime_start;\n\t\tif ( eventDate && eventDate !== targetDateTime ) {\n\t\t\tsetAttributes( { targetDateTime: eventDate } );\n\t\t}\n\t}, [ selectedEvent ] );\n\n\t// Update countdown every second\n\tuseEffect( () => {\n\t\tif ( ! targetDateTime ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst interval = setInterval( () => {\n\t\t\tsetTimeLeft( calculateTimeDifference( targetDateTime, segmentConfig ) );\n\t\t}, 1000 );\n\n\t\treturn () => clearInterval( interval );\n\t}, [ targetDateTime, showYears, showMonths, showWeeks, showDays, showHours, showMinutes, showSeconds ] );\n\n\t// Auto-detect mode based on target date (only if autoMode is enabled and using manual date)\n\tuseEffect( () => {\n\t\tif ( targetDateTime && autoMode && isManualDate ) {\n\t\t\tconst newMode = timeLeft.total < 0 ? 'countup' : 'countdown';\n\t\t\tif ( newMode !== mode ) {\n\t\t\t\tsetAttributes( { mode: newMode } );\n\t\t\t}\n\t\t}\n\t}, [ targetDateTime, timeLeft.total, mode, autoMode, isManualDate, setAttributes ] );\n\n\t// Update block name with target date and current mode\n\tuseEffect( () => {\n\t\tif ( targetDateTime && updateBlockAttributes ) {\n\t\t\tconst formattedDate = dateI18n( dateTimeFormat, targetDateTime );\n\t\t\tconst blockName = mode === 'countdown' \n\t\t\t\t? __( 'Countdown to', 'gatherpress-countdown' ) + ' ' + formattedDate\n\t\t\t\t: __( 'Count up from', 'gatherpress-countdown' ) + ' ' + formattedDate;\n\t\t\t\n\t\t\tupdateBlockAttributes( clientId, {\n\t\t\t\tmetadata: {\n\t\t\t\t\tname: blockName\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}, [ targetDateTime, mode, clientId, updateBlockAttributes, dateTimeFormat ] );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: 'gatherpress-countdown-wrapper',\n\t} );\n\n\t// Build segments array\n\tconst segments = SEGMENT_ORDER\n\t\t.filter( type => {\n\t\t\tconst showKey = `show${type.charAt(0).toUpperCase() + type.slice(1)}`;\n\t\t\treturn segmentConfig[showKey];\n\t\t} )\n\t\t.map( type => ({\n\t\t\ttype,\n\t\t\tvalue: timeLeft[type],\n\t\t\tlabel: getSegmentLabel( type, timeLeft[type] )\n\t\t}) );\n\n\t// Prepare event options for ComboboxControl\n\tconst eventOptions = events.map( event => ({\n\t\tvalue: event.id,\n\t\tlabel: event.title.rendered\n\t}) );\n\n\t// Prepare term options for ComboboxControl\n\tconst termOptions = terms.map( term => ({\n\t\tvalue: term.id,\n\t\tlabel: term.name\n\t}) );\n\n\t/**\n\t * Handle event selection change.\n\t *\n\t * @param {number|string} value - Selected event ID.\n\t */\n\tconst handleEventChange = ( value ) => {\n\t\tif ( ! value ) {\n\t\t\tsetAttributes( { \n\t\t\t\tgatherPressEventId: 0,\n\t\t\t\tgatherPressTaxonomy: '',\n\t\t\t\tgatherPressTermId: 0\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\tconst eventId = parseInt( value, 10 );\n\t\tsetAttributes( { \n\t\t\tgatherPressEventId: eventId,\n\t\t\tgatherPressTaxonomy: '',\n\t\t\tgatherPressTermId: 0\n\t\t} );\n\t};\n\n\t/**\n\t * Handle term selection change.\n\t *\n\t * @param {number|string} value - Selected term ID.\n\t */\n\tconst handleTermChange = ( value ) => {\n\t\tif ( ! value ) {\n\t\t\tsetAttributes( { \n\t\t\t\tgatherPressTermId: 0,\n\t\t\t\tgatherPressEventId: 0\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\tconst termId = parseInt( value, 10 );\n\t\tsetAttributes( { \n\t\t\tgatherPressTermId: termId,\n\t\t\tgatherPressEventId: 0\n\t\t} );\n\t};\n\n\t/**\n\t * Render event selector dropdown content.\n\t *\n\t * @return {Element} Dropdown content.\n\t */\n\tconst renderEventSelector = () => {\n\t\tif ( isLoadingEvents ) {\n\t\t\treturn <LoadingState message={ __( 'Loading events...', 'gatherpress-countdown' ) } />;\n\t\t}\n\t\t\n\t\tif ( events.length === 0 ) {\n\t\t\treturn <EmptyState message={ __( 'No GatherPress events found.', 'gatherpress-countdown' ) } />;\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<RadioControl\n\t\t\t\t\tlabel={ __( 'Display mode', 'gatherpress-countdown' ) }\n\t\t\t\t\tselected={ eventMode }\n\t\t\t\t\toptions={ [\n\t\t\t\t\t\t{ label: __( 'Countdown (time until event)', 'gatherpress-countdown' ), value: 'countdown' },\n\t\t\t\t\t\t{ label: __( 'Count up (time since event)', 'gatherpress-countdown' ), value: 'countup' },\n\t\t\t\t\t] }\n\t\t\t\t\tonChange={ ( value ) => setAttributes( { eventMode: value, mode: value } ) }\n\t\t\t\t/>\n\t\t\t\t<ComboboxControl\n\t\t\t\t\tlabel={ __( 'Select an event', 'gatherpress-countdown' ) }\n\t\t\t\t\tvalue={ gatherPressEventId || null }\n\t\t\t\t\tonChange={ handleEventChange }\n\t\t\t\t\toptions={ eventOptions }\n\t\t\t\t\tallowReset\n\t\t\t\t\thelp={ gatherPressEventId > 0 && selectedEvent ? \n\t\t\t\t\t\t__( 'Synced with event: ', 'gatherpress-countdown' ) + selectedEvent.title.rendered : \n\t\t\t\t\t\t''\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ gatherPressEventId > 0 && eventMode === 'countdown' && (\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Automatic mode switching', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tchecked={ autoMode }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { autoMode: value } ) }\n\t\t\t\t\t\thelp={ __( 'Automatically switch from countdown to count-up when the event date is reached.', 'gatherpress-countdown' ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t};\n\n\t/**\n\t * Render taxonomy selector dropdown content.\n\t *\n\t * @return {Element} Dropdown content.\n\t */\n\tconst renderTaxonomySelector = () => {\n\t\tif ( isLoadingTaxonomies ) {\n\t\t\treturn <LoadingState message={ __( 'Loading taxonomies...', 'gatherpress-countdown' ) } />;\n\t\t}\n\t\t\n\t\tif ( taxonomies.length === 0 ) {\n\t\t\treturn <EmptyState message={ __( 'No taxonomies found for GatherPress events.', 'gatherpress-countdown' ) } />;\n\t\t}\n\t\t\n\t\tif ( ! gatherPressTaxonomy ) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<p className=\"gatherpress-countdown-taxonomy-label\">{ __( 'Select a taxonomy:', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t{ taxonomies.map( ( tax ) => (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tkey={ tax.slug }\n\t\t\t\t\t\t\t\tonClick={ () => setAttributes( {\n\t\t\t\t\t\t\t\t\tgatherPressTaxonomy: tax.slug,\n\t\t\t\t\t\t\t\t\tgatherPressTermId: 0,\n\t\t\t\t\t\t\t\t\tgatherPressEventId: 0\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ tax.name }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\t\n\t\treturn renderTermSelector();\n\t};\n\n\t/**\n\t * Render term selector content.\n\t *\n\t * @return {Element} Term selector content.\n\t */\n\tconst renderTermSelector = () => {\n\t\tif ( isLoadingTerms ) {\n\t\t\treturn <LoadingState message={ __( 'Loading terms...', 'gatherpress-countdown' ) } />;\n\t\t}\n\t\t\n\t\tif ( terms.length === 0 ) {\n\t\t\treturn (\n\t\t\t\t<EmptyState \n\t\t\t\t\tmessage={ __( 'No terms found.', 'gatherpress-countdown' ) }\n\t\t\t\t\taction={\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\tonClick={ () => setAttributes( { gatherPressTaxonomy: '' } ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Back to taxonomies', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"gatherpress-countdown-taxonomy-header\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisSmall\n\t\t\t\t\t\ticon=\"arrow-left-alt2\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetAttributes( { \n\t\t\t\t\t\t\t\tgatherPressTaxonomy: '',\n\t\t\t\t\t\t\t\tgatherPressTermId: 0\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Back', 'gatherpress-countdown' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<span className=\"gatherpress-countdown-taxonomy-name\">\n\t\t\t\t\t\t{ taxonomies.find( t => t.slug === gatherPressTaxonomy )?.name }\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<RadioControl\n\t\t\t\t\tlabel={ __( 'Display mode', 'gatherpress-countdown' ) }\n\t\t\t\t\tselected={ taxonomyMode }\n\t\t\t\t\toptions={ [\n\t\t\t\t\t\t{ label: __( 'Countdown (time until event)', 'gatherpress-countdown' ), value: 'countdown' },\n\t\t\t\t\t\t{ label: __( 'Count up (time since event)', 'gatherpress-countdown' ), value: 'countup' },\n\t\t\t\t\t] }\n\t\t\t\t\tonChange={ ( value ) => setAttributes( { taxonomyMode: value, mode: value } ) }\n\t\t\t\t/>\n\t\t\t\t<ComboboxControl\n\t\t\t\t\tlabel={ __( 'Select a term', 'gatherpress-countdown' ) }\n\t\t\t\t\tvalue={ gatherPressTermId || null }\n\t\t\t\t\tonChange={ handleTermChange }\n\t\t\t\t\toptions={ termOptions }\n\t\t\t\t\tallowReset\n\t\t\t\t/>\n\t\t\t\t{ gatherPressTermId > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ isLoadingNextEvent ? (\n\t\t\t\t\t\t\t<LoadingState message={ __( 'Finding next event...', 'gatherpress-countdown' ) } />\n\t\t\t\t\t\t) : nextEventFromTerm ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<SyncNotice \n\t\t\t\t\t\t\t\t\tmessage={ \n\t\t\t\t\t\t\t\t\t\ttaxonomyMode === 'countdown' \n\t\t\t\t\t\t\t\t\t\t\t? __( 'Using next event: ', 'gatherpress-countdown' ) + nextEventFromTerm.title.rendered\n\t\t\t\t\t\t\t\t\t\t\t: __( 'Using last event: ', 'gatherpress-countdown' ) + nextEventFromTerm.title.rendered\n\t\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ taxonomyMode === 'countdown' && (\n\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Automatic mode switching', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\t\t\tchecked={ autoMode }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { autoMode: value } ) }\n\t\t\t\t\t\t\t\t\t\thelp={ __( 'Automatically switch from countdown to count-up when the event date is reached.', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Notice status=\"warning\" isDismissible={ false }>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{ taxonomyMode === 'countdown' \n\t\t\t\t\t\t\t\t\t\t? __( 'No upcoming events found in this term.', 'gatherpress-countdown' )\n\t\t\t\t\t\t\t\t\t\t: __( 'No past events found in this term.', 'gatherpress-countdown' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tcontentClassName=\"gatherpress-countdown-datetime-popover\"\n\t\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\ticon=\"calendar-alt\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Select date and time', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tsetOpenDropdown( isOpen ? null : 'datetime' );\n\t\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tisPressed={ isManualDate }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\t\tcurrentDate={ targetDateTime || null }\n\t\t\t\t\t\t\t\t\tonChange={ ( newDateTime ) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { \n\t\t\t\t\t\t\t\t\t\t\ttargetDateTime: newDateTime,\n\t\t\t\t\t\t\t\t\t\t\tgatherPressEventId: 0,\n\t\t\t\t\t\t\t\t\t\t\tgatherPressTaxonomy: '',\n\t\t\t\t\t\t\t\t\t\t\tgatherPressTermId: 0\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\tsetOpenDropdown( null );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tis12Hour={ false }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ targetDateTime && isManualDate && (\n\t\t\t\t\t\t\t\t\t<div style={{ padding: '16px', borderTop: '1px solid #ddd' }}>\n\t\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Automatic mode switching', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\t\t\t\tchecked={ autoMode }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { autoMode: value } ) }\n\t\t\t\t\t\t\t\t\t\t\thelp={ __( 'Automatically switch from countdown to count-up when the target date is reached.', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tcontentClassName=\"gatherpress-countdown-gatherpress-popover\"\n\t\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\ticon=\"awards\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Select GatherPress event', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tsetOpenDropdown( isOpen ? null : 'event' );\n\t\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tisPressed={ isSyncedEvent }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-gatherpress-selector\">\n\t\t\t\t\t\t\t\t{ renderEventSelector() }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tcontentClassName=\"gatherpress-countdown-taxonomy-popover\"\n\t\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\ticon=\"tag\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Select from taxonomy', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tsetOpenDropdown( isOpen ? null : 'taxonomy' );\n\t\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tisPressed={ isSyncedTerm }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-taxonomy-selector\">\n\t\t\t\t\t\t\t\t{ renderTaxonomySelector() }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Display Settings', 'gatherpress-countdown' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show labels', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tchecked={ showLabels }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { showLabels: value } ) }\n\t\t\t\t\t\thelp={ __( 'Display labels for time segments.', 'gatherpress-countdown' ) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody title={ __( 'Time Segments', 'gatherpress-countdown' ) } initialOpen={ false }>\n\t\t\t\t\t{ SEGMENT_ORDER.map( segment => {\n\t\t\t\t\t\tconst attrKey = `show${segment.charAt(0).toUpperCase() + segment.slice(1)}`;\n\t\t\t\t\t\tconst label = segment.charAt(0).toUpperCase() + segment.slice(1);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tkey={ segment }\n\t\t\t\t\t\t\t\tlabel={ __( `Show ${segment}`, 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\tchecked={ attributes[attrKey] }\n\t\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { [attrKey]: value } ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t\t<Notice status=\"info\" isDismissible={ false } className=\"gatherpress-countdown-info-notice\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{ __( 'Time segments cascade from largest to smallest. For example, a 40-day countdown with \"months\" and \"days\" selected displays \"1 month, 10 days\". Deselecting \"months\" updates it to \"40 days\".' ) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{ __( 'On the frontend, segments automatically hide when they reach zero and all larger segments are already hidden.' ) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</Notice>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ isContextDate && (\n\t\t\t\t\t<EventIndicator \n\t\t\t\t\t\temoji=\"\" \n\t\t\t\t\t\tmessage={ __( 'Using event date from context', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tvariant=\"gatherpress-countdown-context-indicator\"\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isSyncedEvent && selectedEvent && (\n\t\t\t\t\t<EventIndicator \n\t\t\t\t\t\temoji=\"\" \n\t\t\t\t\t\tmessage={ __( 'Synced with event: ', 'gatherpress-countdown' ) + selectedEvent.title.rendered }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isSyncedTerm && nextEventFromTerm && (\n\t\t\t\t\t<EventIndicator \n\t\t\t\t\t\temoji=\"\" \n\t\t\t\t\t\tmessage={ \n\t\t\t\t\t\t\ttaxonomyMode === 'countdown'\n\t\t\t\t\t\t\t\t? __( 'Using next event: ', 'gatherpress-countdown' ) + nextEventFromTerm.title.rendered\n\t\t\t\t\t\t\t\t: __( 'Using last event: ', 'gatherpress-countdown' ) + nextEventFromTerm.title.rendered\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! targetDateTime ? (\n\t\t\t\t\t<div className=\"gatherpress-countdown__placeholder\">\n\t\t\t\t\t\t<p>{ __( 'Select a date and time using the toolbar buttons above.', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : segments.length === 0 ? (\n\t\t\t\t\t<div className=\"gatherpress-countdown__placeholder\">\n\t\t\t\t\t\t<p>{ __( 'Please select at least one time segment to display.', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"gatherpress-countdown\" data-mode={ mode }>\n\t\t\t\t\t\t<div className=\"gatherpress-countdown__display\">\n\t\t\t\t\t\t\t{ segments.map( ( segment, index ) => (\n\t\t\t\t\t\t\t\t<div key={ index } className=\"gatherpress-countdown__segment\">\n\t\t\t\t\t\t\t\t\t<span className=\"gatherpress-countdown__number\">{ formatNumber( segment.value ) }</span>\n\t\t\t\t\t\t\t\t\t{ showLabels && (\n\t\t\t\t\t\t\t\t\t\t<span className=\"gatherpress-countdown__label\">{ segment.label }</span>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}","// extracted by mini-css-extract-plugin\nexport {};","\n/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './style.scss';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport metadata from './block.json';\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nregisterBlockType( metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n} );\n\t","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkblock_gatherpress_countdown\"] = globalThis[\"webpackChunkblock_gatherpress_countdown\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","useBlockProps","InspectorControls","BlockControls","PanelBody","ToggleControl","ToolbarGroup","ToolbarButton","Dropdown","DateTimePicker","Notice","ComboboxControl","Spinner","MenuGroup","MenuItem","Button","RadioControl","useState","useEffect","useDispatch","useSelect","dateI18n","getSettings","store","coreStore","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TIME_UNITS","years","months","weeks","days","hours","minutes","seconds","SEGMENT_ORDER","calculateTimeDifference","targetDateTime","segments","reduce","acc","key","total","now","Date","getTime","target","difference","absDifference","Math","abs","remainingSeconds","floor","result","forEach","segment","showKey","charAt","toUpperCase","slice","formatNumber","num","toString","padStart","getSegmentLabel","type","value","labels","useGatherPressEvents","mode","select","getEntityRecords","isResolving","queryArgs","per_page","status","order","gatherpress_event_query","events","isLoadingEvents","useGatherPressTaxonomies","getTaxonomies","allTaxonomies","eventTaxonomies","filter","tax","types","includes","taxonomies","isLoadingTaxonomies","useTaxonomyTerms","taxonomy","terms","isLoadingTerms","useNextEventFromTerm","termId","nextEventFromTerm","isLoadingNextEvent","length","useGatherPressEvent","eventId","getEntityRecord","useContextEventDate","contextPostId","contextPostType","isEventContext","post","meta","gatherpress_datetime_start","LoadingState","message","className","children","EmptyState","action","SyncNotice","EventIndicator","emoji","variant","Edit","attributes","setAttributes","clientId","context","gatherPressEventId","gatherPressTaxonomy","gatherPressTermId","autoMode","eventMode","taxonomyMode","showLabels","showYears","showMonths","showWeeks","showDays","showHours","showMinutes","showSeconds","segmentConfig","timeLeft","setTimeLeft","openDropdown","setOpenDropdown","updateBlockAttributes","dateSettings","dateFormat","formats","date","timeFormat","time","dateTimeFormat","postId","postType","contextEventDate","selectedEvent","isManualDate","isSyncedEvent","isSyncedTerm","isContextDate","eventDate","interval","setInterval","clearInterval","newMode","formattedDate","blockName","metadata","name","blockProps","map","label","eventOptions","event","id","title","rendered","termOptions","term","handleEventChange","parseInt","handleTermChange","renderEventSelector","selected","options","onChange","allowReset","help","checked","renderTaxonomySelector","onClick","slug","renderTermSelector","isSecondary","isSmall","icon","find","t","isDismissible","contentClassName","position","renderToggle","isOpen","onToggle","isPressed","renderContent","currentDate","newDateTime","is12Hour","style","padding","borderTop","initialOpen","attrKey","index","registerBlockType","edit"],"ignoreList":[],"sourceRoot":""}