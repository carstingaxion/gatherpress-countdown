{"version":3,"file":"index.js","mappings":"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","sources":["webpack://block-gatherpress-countdown/./src/edit.js","webpack://block-gatherpress-countdown/./src/editor.scss","webpack://block-gatherpress-countdown/./src/index.js","webpack://block-gatherpress-countdown/./src/style.scss","webpack://block-gatherpress-countdown/external window [\"wp\",\"blockEditor\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"blocks\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"components\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"coreData\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"data\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"date\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"element\"]","webpack://block-gatherpress-countdown/external window [\"wp\",\"i18n\"]","webpack://block-gatherpress-countdown/external window \"ReactJSXRuntime\"","webpack://block-gatherpress-countdown/webpack/bootstrap","webpack://block-gatherpress-countdown/webpack/runtime/chunk loaded","webpack://block-gatherpress-countdown/webpack/runtime/compat get default export","webpack://block-gatherpress-countdown/webpack/runtime/define property getters","webpack://block-gatherpress-countdown/webpack/runtime/hasOwnProperty shorthand","webpack://block-gatherpress-countdown/webpack/runtime/make namespace object","webpack://block-gatherpress-countdown/webpack/runtime/jsonp chunk loading","webpack://block-gatherpress-countdown/webpack/before-startup","webpack://block-gatherpress-countdown/webpack/startup","webpack://block-gatherpress-countdown/webpack/after-startup"],"sourcesContent":["/**\n * Retrieves the translation of text.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-i18n/\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * React hook that is used to mark the block wrapper element.\n * It provides all the necessary props like the class name.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-block-editor/#useblockprops\n */\nimport { useBlockProps, InspectorControls, BlockControls } from '@wordpress/block-editor';\n\nimport { \n\tPanelBody, \n\tToggleControl,\n\tToolbarGroup,\n\tToolbarButton,\n\tDropdown,\n\tDateTimePicker,\n\tNotice,\n\tFormTokenField,\n\tSpinner,\n\tMenuGroup,\n\tMenuItem\n} from '@wordpress/components';\n\nimport { useState, useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { dateI18n, getSettings } from '@wordpress/date';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * Those files can contain any CSS code that gets applied to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './editor.scss';\n\n/**\n * Calculate time difference with cascading based on selected segments.\n *\n * @param {string} targetDateTime - The target date/time in ISO format.\n * @param {Object} segments - Object indicating which segments are shown.\n * @return {Object} Object containing calculated time values.\n */\nfunction calculateTimeDifference( targetDateTime, segments ) {\n\tif ( ! targetDateTime ) {\n\t\treturn {\n\t\t\tyears: 0,\n\t\t\tmonths: 0,\n\t\t\tweeks: 0,\n\t\t\tdays: 0,\n\t\t\thours: 0,\n\t\t\tminutes: 0,\n\t\t\tseconds: 0,\n\t\t\ttotal: 0,\n\t\t};\n\t}\n\n\tconst now = new Date().getTime();\n\tconst target = new Date( targetDateTime ).getTime();\n\tconst difference = target - now;\n\tconst absDifference = Math.abs( difference );\n\n\t// Calculate remaining time in seconds\n\tlet remainingSeconds = Math.floor( absDifference / 1000 );\n\n\t// Initialize result object\n\tconst result = {\n\t\tyears: 0,\n\t\tmonths: 0,\n\t\tweeks: 0,\n\t\tdays: 0,\n\t\thours: 0,\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t\ttotal: difference,\n\t};\n\n\t// Calculate each segment, subtracting from remainingSeconds as we go\n\tif ( segments.showYears ) {\n\t\tconst secondsPerYear = 365.25 * 24 * 60 * 60;\n\t\tresult.years = Math.floor( remainingSeconds / secondsPerYear );\n\t\tremainingSeconds -= result.years * secondsPerYear;\n\t}\n\n\tif ( segments.showMonths ) {\n\t\tconst secondsPerMonth = 30.44 * 24 * 60 * 60;\n\t\tresult.months = Math.floor( remainingSeconds / secondsPerMonth );\n\t\tremainingSeconds -= result.months * secondsPerMonth;\n\t}\n\n\tif ( segments.showWeeks ) {\n\t\tconst secondsPerWeek = 7 * 24 * 60 * 60;\n\t\tresult.weeks = Math.floor( remainingSeconds / secondsPerWeek );\n\t\tremainingSeconds -= result.weeks * secondsPerWeek;\n\t}\n\n\tif ( segments.showDays ) {\n\t\tconst secondsPerDay = 24 * 60 * 60;\n\t\tresult.days = Math.floor( remainingSeconds / secondsPerDay );\n\t\tremainingSeconds -= result.days * secondsPerDay;\n\t}\n\n\tif ( segments.showHours ) {\n\t\tconst secondsPerHour = 60 * 60;\n\t\tresult.hours = Math.floor( remainingSeconds / secondsPerHour );\n\t\tremainingSeconds -= result.hours * secondsPerHour;\n\t}\n\n\tif ( segments.showMinutes ) {\n\t\tconst secondsPerMinute = 60;\n\t\tresult.minutes = Math.floor( remainingSeconds / secondsPerMinute );\n\t\tremainingSeconds -= result.minutes * secondsPerMinute;\n\t}\n\n\tif ( segments.showSeconds ) {\n\t\tresult.seconds = Math.floor( remainingSeconds );\n\t}\n\n\treturn result;\n}\n\n/**\n * Format number with leading zero.\n *\n * @param {number} num - The number to format.\n * @return {string} Formatted number string.\n */\nfunction formatNumber( num ) {\n\treturn num.toString().padStart( 2, '0' );\n}\n\n/**\n * Get label for time segment.\n *\n * @param {string} type - Segment type (years, months, etc).\n * @param {number} value - Segment value.\n * @return {string} Translated label.\n */\nfunction getSegmentLabel( type, value ) {\n\tconst labels = {\n\t\tyears: value === 1 ? __( 'Year' ) : __( 'Years' ),\n\t\tmonths: value === 1 ? __( 'Month' ) : __( 'Months' ),\n\t\tweeks: value === 1 ? __( 'Week' ) : __( 'Weeks' ),\n\t\tdays: value === 1 ? __( 'Day' ) : __( 'Days' ),\n\t\thours: value === 1 ? __( 'Hour' ) : __( 'Hours' ),\n\t\tminutes: value === 1 ? __( 'Minute' ) : __( 'Minutes' ),\n\t\tseconds: value === 1 ? __( 'Second' ) : __( 'Seconds' ),\n\t};\n\treturn labels[ type ] || '';\n}\n\n/**\n * The edit function describes the structure of your block in the context of the\n * editor. This represents what the editor will render when the block is used.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-edit-save/#edit\n *\n * @param {Object}   props               - Block props.\n * @param {Object}   props.attributes    - Block attributes.\n * @param {Function} props.setAttributes - Function to set block attributes.\n * @param {string}   props.clientId      - Block client ID.\n * @param {Object}   props.context       - Block context.\n * @return {Element} Element to render.\n */\nexport default function Edit( { attributes, setAttributes, clientId, context } ) {\n\tconst { \n\t\ttargetDateTime, \n\t\tgatherPressEventId,\n\t\tgatherPressTaxonomy,\n\t\tgatherPressTermId,\n\t\tmode, \n\t\tshowLabels,\n\t\tshowYears,\n\t\tshowMonths,\n\t\tshowWeeks,\n\t\tshowDays,\n\t\tshowHours,\n\t\tshowMinutes,\n\t\tshowSeconds\n\t} = attributes;\n\t\n\tconst segmentConfig = {\n\t\tshowYears,\n\t\tshowMonths,\n\t\tshowWeeks,\n\t\tshowDays,\n\t\tshowHours,\n\t\tshowMinutes,\n\t\tshowSeconds\n\t};\n\t\n\tconst [ timeLeft, setTimeLeft ] = useState( calculateTimeDifference( targetDateTime, segmentConfig ) );\n\tconst [ selectedEventTokens, setSelectedEventTokens ] = useState( [] );\n\tconst [ selectedTermTokens, setSelectedTermTokens ] = useState( [] );\n\tconst { updateBlockAttributes } = useDispatch( 'core/block-editor' );\n\n\t// Get WordPress date and time format settings\n\tconst dateSettings = getSettings();\n\tconst dateFormat = dateSettings.formats.date;\n\tconst timeFormat = dateSettings.formats.time;\n\tconst dateTimeFormat = `${dateFormat} ${timeFormat}`;\n\n\t// Get context post ID and type\n\tconst contextPostId = context?.postId;\n\tconst contextPostType = context?.postType;\n\n\t// Check if we're in a GatherPress event context\n\tconst isEventContext = contextPostType === 'gatherpress_event';\n\n\t// Get the current post's event date if in event context\n\tconst contextEventDate = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! isEventContext || ! contextPostId ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t\n\t\t\tconst { getEntityRecord } = select( coreStore );\n\t\t\tconst post = getEntityRecord( 'postType', 'gatherpress_event', contextPostId );\n\t\t\treturn post?.meta?.gatherpress_datetime_start || null;\n\t\t},\n\t\t[ isEventContext, contextPostId ]\n\t);\n\n\t// Fetch GatherPress taxonomies\n\tconst { taxonomies, isLoadingTaxonomies } = useSelect( ( select ) => {\n\t\tconst { getTaxonomies, isResolving } = select( coreStore );\n\t\t\n\t\tconst allTaxonomies = getTaxonomies( { per_page: -1 } ) || [];\n\t\tconst eventTaxonomies = allTaxonomies.filter( \n\t\t\ttax => tax.types && tax.types.includes( 'gatherpress_event' )\n\t\t);\n\t\t\n\t\treturn {\n\t\t\ttaxonomies: eventTaxonomies,\n\t\t\tisLoadingTaxonomies: isResolving( 'getTaxonomies', [ { per_page: -1 } ] ),\n\t\t};\n\t}, [] );\n\n\t// Fetch terms for the selected taxonomy\n\tconst { terms, isLoadingTerms } = useSelect( \n\t\t( select ) => {\n\t\t\tif ( ! gatherPressTaxonomy ) {\n\t\t\t\treturn { terms: [], isLoadingTerms: false };\n\t\t\t}\n\t\t\t\n\t\t\tconst { getEntityRecords, isResolving } = select( coreStore );\n\t\t\t\n\t\t\treturn {\n\t\t\t\tterms: getEntityRecords( 'taxonomy', gatherPressTaxonomy, {\n\t\t\t\t\tper_page: 100,\n\t\t\t\t} ) || [],\n\t\t\t\tisLoadingTerms: isResolving( 'getEntityRecords', [\n\t\t\t\t\t'taxonomy',\n\t\t\t\t\tgatherPressTaxonomy,\n\t\t\t\t\t{ per_page: 100 },\n\t\t\t\t] ),\n\t\t\t};\n\t\t},\n\t\t[ gatherPressTaxonomy ]\n\t);\n\n\t// Fetch the next event from the selected term\n\tconst { nextEventFromTerm, isLoadingNextEvent } = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! gatherPressTaxonomy || ! gatherPressTermId ) {\n\t\t\t\treturn { nextEventFromTerm: null, isLoadingNextEvent: false };\n\t\t\t}\n\t\t\t\n\t\t\tconst { getEntityRecords, isResolving } = select( coreStore );\n\t\t\t\n\t\t\t// Build the query args object with the taxonomy filter\n\t\t\tconst queryArgs = {\n\t\t\t\tper_page: 1,\n\t\t\t\tstatus: 'publish',\n\t\t\t\t// orderby: 'meta_value',\n\t\t\t\t// meta_key: 'gatherpress_datetime_start',\n\t\t\t\t// order: 'ASC',\n\n\t\t\t\t// Use the taxonomy slug as the key and term ID as the value\n\t\t\t\t// [ gatherPressTaxonomy ]: [[ gatherPressTermId ]],\n\t\t\t};\n\n\t\t\t\t\t\t\n\t\t\t// Add taxonomy filter\n\t\t\tqueryArgs[ gatherPressTaxonomy ] = gatherPressTermId;\n\n\t\t\t\n\t\t\tconst events = getEntityRecords( 'postType', 'gatherpress_event', queryArgs ) || [];\n\t\t\t\n\t\t\treturn {\n\t\t\t\tnextEventFromTerm: events.length > 0 ? events[0] : null,\n\t\t\t\tisLoadingNextEvent: isResolving( 'getEntityRecords', [\n\t\t\t\t\t'postType',\n\t\t\t\t\t'gatherpress_event',\n\t\t\t\t\tqueryArgs,\n\t\t\t\t] ),\n\t\t\t};\n\t\t},\n\t\t[ gatherPressTaxonomy, gatherPressTermId ]\n\t);\n\n\t// Fetch GatherPress events using core data store\n\tconst { events, isLoadingEvents } = useSelect( ( select ) => {\n\t\tconst { getEntityRecords, isResolving } = select( coreStore );\n\t\t\n\t\treturn {\n\t\t\tevents: getEntityRecords( 'postType', 'gatherpress_event', {\n\t\t\t\tper_page: 100,\n\t\t\t\tstatus: 'publish',\n\t\t\t\torderby: 'date',\n\t\t\t\torder: 'desc',\n\t\t\t} ) || [],\n\t\t\tisLoadingEvents: isResolving( 'getEntityRecords', [\n\t\t\t\t'postType',\n\t\t\t\t'gatherpress_event',\n\t\t\t\t{\n\t\t\t\t\tper_page: 100,\n\t\t\t\t\tstatus: 'publish',\n\t\t\t\t\torderby: 'date',\n\t\t\t\t\torder: 'desc',\n\t\t\t\t},\n\t\t\t] ),\n\t\t};\n\t}, [] );\n\n\t// Get the selected event details\n\tconst selectedEvent = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! gatherPressEventId ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t\n\t\t\tconst { getEntityRecord } = select( coreStore );\n\t\t\treturn getEntityRecord( 'postType', 'gatherpress_event', gatherPressEventId );\n\t\t},\n\t\t[ gatherPressEventId ]\n\t);\n\n\t// Auto-sync with context event date when in event context\n\tuseEffect( () => {\n\t\tif ( isEventContext && contextEventDate ) {\n\t\t\t// Only auto-sync if no manual date or event is selected\n\t\t\tif ( ! targetDateTime && ! gatherPressEventId && ! gatherPressTermId ) {\n\t\t\t\tsetAttributes( { targetDateTime: contextEventDate } );\n\t\t\t}\n\t\t}\n\t}, [ isEventContext, contextEventDate, targetDateTime, gatherPressEventId, gatherPressTermId ] );\n\n\t// Update selected tokens when gatherPressEventId changes\n\tuseEffect( () => {\n\t\tif ( gatherPressEventId && events.length > 0 ) {\n\t\t\tconst event = events.find( e => e.id === gatherPressEventId );\n\t\t\tif ( event ) {\n\t\t\t\tsetSelectedEventTokens( [ event.title.rendered ] );\n\t\t\t}\n\t\t} else {\n\t\t\tsetSelectedEventTokens( [] );\n\t\t}\n\t}, [ gatherPressEventId, events ] );\n\n\t// Update selected term tokens when gatherPressTermId changes\n\tuseEffect( () => {\n\t\tif ( gatherPressTermId && terms.length > 0 ) {\n\t\t\tconst term = terms.find( t => t.id === gatherPressTermId );\n\t\t\tif ( term ) {\n\t\t\t\tsetSelectedTermTokens( [ term.name ] );\n\t\t\t}\n\t\t} else {\n\t\t\tsetSelectedTermTokens( [] );\n\t\t}\n\t}, [ gatherPressTermId, terms ] );\n\n\t// Update target date when next event from term changes\n\tuseEffect( () => {\n\t\tif ( nextEventFromTerm?.meta?.gatherpress_datetime_start ) {\n\t\t\tconst eventDate = nextEventFromTerm.meta.gatherpress_datetime_start;\n\t\t\tif ( eventDate !== targetDateTime ) {\n\t\t\t\tsetAttributes( { targetDateTime: eventDate } );\n\t\t\t}\n\t\t}\n\t}, [ nextEventFromTerm ] );\n\n\t// Update target date when selected event changes\n\tuseEffect( () => {\n\t\tif ( selectedEvent?.meta?.gatherpress_datetime_start ) {\n\t\t\tconst eventDate = selectedEvent.meta.gatherpress_datetime_start;\n\t\t\tif ( eventDate !== targetDateTime ) {\n\t\t\t\tsetAttributes( { targetDateTime: eventDate } );\n\t\t\t}\n\t\t}\n\t}, [ selectedEvent ] );\n\n\t// Update countdown every second.\n\tuseEffect( () => {\n\t\tif ( ! targetDateTime ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst interval = setInterval( () => {\n\t\t\tsetTimeLeft( calculateTimeDifference( targetDateTime, segmentConfig ) );\n\t\t}, 1000 );\n\n\t\treturn () => clearInterval( interval );\n\t}, [ targetDateTime, showYears, showMonths, showWeeks, showDays, showHours, showMinutes, showSeconds ] );\n\n\t// Auto-detect mode based on target date.\n\tuseEffect( () => {\n\t\tif ( targetDateTime ) {\n\t\t\tconst newMode = timeLeft.total < 0 ? 'countup' : 'countdown';\n\t\t\tif ( newMode !== mode ) {\n\t\t\t\tsetAttributes( { mode: newMode } );\n\t\t\t}\n\t\t}\n\t}, [ targetDateTime, timeLeft.total, mode, setAttributes ] );\n\n\t// Update block name with target date using WordPress core date/time format\n\tuseEffect( () => {\n\t\tif ( targetDateTime && updateBlockAttributes ) {\n\t\t\tconst formattedDate = dateI18n( dateTimeFormat, targetDateTime );\n\t\t\tconst blockName = mode === 'countdown' \n\t\t\t\t? __( 'Countdown to', 'gatherpress-countdown' ) + ' ' + formattedDate\n\t\t\t\t: __( 'Count up from', 'gatherpress-countdown' ) + ' ' + formattedDate;\n\t\t\t\n\t\t\tupdateBlockAttributes( clientId, {\n\t\t\t\tmetadata: {\n\t\t\t\t\tname: blockName\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}, [ targetDateTime, mode, clientId, updateBlockAttributes, dateTimeFormat ] );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: 'gatherpress-countdown-wrapper',\n\t} );\n\n\tconst segments = [];\n\t\n\tif ( showYears ) {\n\t\tsegments.push( {\n\t\t\ttype: 'years',\n\t\t\tvalue: timeLeft.years,\n\t\t\tlabel: getSegmentLabel( 'years', timeLeft.years )\n\t\t} );\n\t}\n\t\n\tif ( showMonths ) {\n\t\tsegments.push( {\n\t\t\ttype: 'months',\n\t\t\tvalue: timeLeft.months,\n\t\t\tlabel: getSegmentLabel( 'months', timeLeft.months )\n\t\t} );\n\t}\n\t\n\tif ( showWeeks ) {\n\t\tsegments.push( {\n\t\t\ttype: 'weeks',\n\t\t\tvalue: timeLeft.weeks,\n\t\t\tlabel: getSegmentLabel( 'weeks', timeLeft.weeks )\n\t\t} );\n\t}\n\t\n\tif ( showDays ) {\n\t\tsegments.push( {\n\t\t\ttype: 'days',\n\t\t\tvalue: timeLeft.days,\n\t\t\tlabel: getSegmentLabel( 'days', timeLeft.days )\n\t\t} );\n\t}\n\t\n\tif ( showHours ) {\n\t\tsegments.push( {\n\t\t\ttype: 'hours',\n\t\t\tvalue: timeLeft.hours,\n\t\t\tlabel: getSegmentLabel( 'hours', timeLeft.hours )\n\t\t} );\n\t}\n\t\n\tif ( showMinutes ) {\n\t\tsegments.push( {\n\t\t\ttype: 'minutes',\n\t\t\tvalue: timeLeft.minutes,\n\t\t\tlabel: getSegmentLabel( 'minutes', timeLeft.minutes )\n\t\t} );\n\t}\n\t\n\tif ( showSeconds ) {\n\t\tsegments.push( {\n\t\t\ttype: 'seconds',\n\t\t\tvalue: timeLeft.seconds,\n\t\t\tlabel: getSegmentLabel( 'seconds', timeLeft.seconds )\n\t\t} );\n\t}\n\n\t// Handle event selection from FormTokenField - only allow one selection\n\tconst handleEventChange = ( tokens ) => {\n\t\tif ( tokens.length === 0 ) {\n\t\t\tsetSelectedEventTokens( [] );\n\t\t\tsetAttributes( { gatherPressEventId: 0 } );\n\t\t\treturn;\n\t\t}\n\n\t\t// Only use the most recent token (last in array)\n\t\tconst selectedToken = tokens[ tokens.length - 1 ];\n\t\tconst event = events.find( e => e.title.rendered === selectedToken );\n\t\t\n\t\tif ( event ) {\n\t\t\t// Set only the selected token\n\t\t\tsetSelectedEventTokens( [ event.title.rendered ] );\n\t\t\tsetAttributes( { \n\t\t\t\tgatherPressEventId: event.id,\n\t\t\t\tgatherPressTaxonomy: '',\n\t\t\t\tgatherPressTermId: 0\n\t\t\t} );\n\t\t\tsetSelectedTermTokens( [] );\n\t\t}\n\t};\n\n\t// Handle term selection from FormTokenField - only allow one selection\n\tconst handleTermChange = ( tokens ) => {\n\t\tif ( tokens.length === 0 ) {\n\t\t\tsetSelectedTermTokens( [] );\n\t\t\tsetAttributes( { gatherPressTermId: 0 } );\n\t\t\treturn;\n\t\t}\n\n\t\t// Only use the most recent token (last in array)\n\t\tconst selectedToken = tokens[ tokens.length - 1 ];\n\t\tconst term = terms.find( t => t.name === selectedToken );\n\t\t\n\t\tif ( term ) {\n\t\t\t// Set only the selected token\n\t\t\tsetSelectedTermTokens( [ term.name ] );\n\t\t\tsetAttributes( { \n\t\t\t\tgatherPressTermId: term.id,\n\t\t\t\tgatherPressEventId: 0\n\t\t\t} );\n\t\t\tsetSelectedEventTokens( [] );\n\t\t}\n\t};\n\n\t// Handle taxonomy selection\n\tconst handleTaxonomySelect = ( taxonomy ) => {\n\t\tsetAttributes( {\n\t\t\tgatherPressTaxonomy: taxonomy,\n\t\t\tgatherPressTermId: 0,\n\t\t\tgatherPressEventId: 0\n\t\t} );\n\t\tsetSelectedTermTokens( [] );\n\t\tsetSelectedEventTokens( [] );\n\t};\n\n\t// Prepare event suggestions for FormTokenField\n\tconst eventSuggestions = events.map( event => event.title.rendered );\n\n\t// Prepare term suggestions for FormTokenField\n\tconst termSuggestions = terms.map( term => term.name );\n\n\t// Determine the source of the date\n\tconst isContextDate = isEventContext && contextEventDate && ! gatherPressEventId && ! gatherPressTermId && targetDateTime === contextEventDate;\n\tconst isManualDate = targetDateTime && ! gatherPressEventId && ! gatherPressTermId && ! isContextDate;\n\tconst isSyncedEvent = gatherPressEventId > 0;\n\tconst isSyncedTerm = gatherPressTermId > 0;\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tclassName=\"gatherpress-countdown-datetime-dropdown\"\n\t\t\t\t\t\tcontentClassName=\"gatherpress-countdown-datetime-popover\"\n\t\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\ticon=\"calendar-alt\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Select date and time', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tisPressed={ isManualDate }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\tcurrentDate={ targetDateTime || null }\n\t\t\t\t\t\t\t\tonChange={ ( newDateTime ) => {\n\t\t\t\t\t\t\t\t\tsetAttributes( { \n\t\t\t\t\t\t\t\t\t\ttargetDateTime: newDateTime,\n\t\t\t\t\t\t\t\t\t\tgatherPressEventId: 0,\n\t\t\t\t\t\t\t\t\t\tgatherPressTaxonomy: '',\n\t\t\t\t\t\t\t\t\t\tgatherPressTermId: 0\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\tsetSelectedEventTokens( [] );\n\t\t\t\t\t\t\t\t\tsetSelectedTermTokens( [] );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tis12Hour={ false }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tclassName=\"gatherpress-countdown-gatherpress-dropdown\"\n\t\t\t\t\t\tcontentClassName=\"gatherpress-countdown-gatherpress-popover\"\n\t\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\ticon=\"awards\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Select GatherPress event', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tisPressed={ isSyncedEvent }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-gatherpress-selector\">\n\t\t\t\t\t\t\t\t{ isLoadingEvents ? (\n\t\t\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-loading\">\n\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t\t<p>{ __( 'Loading events...', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : events.length === 0 ? (\n\t\t\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-no-events\">\n\t\t\t\t\t\t\t\t\t\t<p>{ __( 'No GatherPress events found.', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Select an event', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ selectedEventTokens }\n\t\t\t\t\t\t\t\t\t\t\tsuggestions={ eventSuggestions }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ handleEventChange }\n\t\t\t\t\t\t\t\t\t\t\tmaxSuggestions={ 10 }\n\t\t\t\t\t\t\t\t\t\t\t__experimentalExpandOnFocus\n\t\t\t\t\t\t\t\t\t\t\t__experimentalShowHowTo={ false }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{ gatherPressEventId > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"gatherpress-countdown-event-sync-note\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Date synced with event', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tclassName=\"gatherpress-countdown-taxonomy-dropdown\"\n\t\t\t\t\t\tcontentClassName=\"gatherpress-countdown-taxonomy-popover\"\n\t\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\ticon=\"tag\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Select from taxonomy', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tisPressed={ isSyncedTerm }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-taxonomy-selector\">\n\t\t\t\t\t\t\t\t{ isLoadingTaxonomies ? (\n\t\t\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-loading\">\n\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t\t<p>{ __( 'Loading taxonomies...', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : taxonomies.length === 0 ? (\n\t\t\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-no-events\">\n\t\t\t\t\t\t\t\t\t\t<p>{ __( 'No taxonomies found for GatherPress events.', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : ! gatherPressTaxonomy ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<p className=\"gatherpress-countdown-taxonomy-label\">{ __( 'Select a taxonomy:', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t\t\t{ taxonomies.map( ( tax ) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ tax.slug }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => handleTaxonomySelect( tax.slug ) }\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ tax.name }\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{ isLoadingTerms ? (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-loading\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{ __( 'Loading terms...', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : terms.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-no-events\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{ __( 'No terms found.', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => setAttributes( { gatherPressTaxonomy: '' } ) }\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Back to taxonomies', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-taxonomy-header\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"arrow-left-alt2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgatherPressTaxonomy: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgatherPressTermId: 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedTermTokens( [] );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Back', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"gatherpress-countdown-taxonomy-name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ taxonomies.find( t => t.slug === gatherPressTaxonomy )?.name }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Select a term', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ selectedTermTokens }\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuggestions={ termSuggestions }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleTermChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxSuggestions={ 10 }\n\t\t\t\t\t\t\t\t\t\t\t\t\t__experimentalExpandOnFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\t__experimentalShowHowTo={ false }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{ gatherPressTermId > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ isLoadingNextEvent ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"gatherpress-countdown-loading\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{ __( 'Finding next event...', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : nextEventFromTerm ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"gatherpress-countdown-event-sync-note\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Using next event: ', 'gatherpress-countdown' ) }{ nextEventFromTerm.title.rendered }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Notice status=\"warning\" isDismissible={ false }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{ __( 'No upcoming events found in this term.', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Display Settings', 'gatherpress-countdown' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show labels', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tchecked={ showLabels }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { showLabels: value } ) }\n\t\t\t\t\t\thelp={ __( 'Display labels for time segments.', 'gatherpress-countdown' ) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody title={ __( 'Time Segments', 'gatherpress-countdown' ) } initialOpen={ false }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show years', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tchecked={ showYears }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { showYears: value } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show months', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tchecked={ showMonths }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { showMonths: value } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show weeks', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tchecked={ showWeeks }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { showWeeks: value } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show days', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tchecked={ showDays }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { showDays: value } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show hours', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tchecked={ showHours }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { showHours: value } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show minutes', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tchecked={ showMinutes }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { showMinutes: value } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show seconds', 'gatherpress-countdown' ) }\n\t\t\t\t\t\tchecked={ showSeconds }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { showSeconds: value } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<Notice status=\"info\" isDismissible={ false } className=\"gatherpress-countdown-info-notice\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{ __( 'Time segments cascade from largest to smallest. For example, a 40-day countdown with \"months\" and \"days\" selected displays \"1 month, 10 days\". Deselecting \"months\" updates it to \"40 days\".' ) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{ __( 'On the frontend, segments automatically hide when they reach zero and all larger segments are already hidden.' ) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</Notice>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ isContextDate && (\n\t\t\t\t\t<div className=\"gatherpress-countdown-event-indicator gatherpress-countdown-context-indicator\">\n\t\t\t\t\t\t<span className=\"gatherpress-countdown-event-badge\"></span>\n\t\t\t\t\t\t<span>{ __( 'Using event date from context', 'gatherpress-countdown' ) }</span>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ isSyncedEvent && (\n\t\t\t\t\t<div className=\"gatherpress-countdown-event-indicator\">\n\t\t\t\t\t\t<span className=\"gatherpress-countdown-event-badge\"></span>\n\t\t\t\t\t\t<span>{ __( 'Synced with event', 'gatherpress-countdown' ) }</span>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ isSyncedTerm && (\n\t\t\t\t\t<div className=\"gatherpress-countdown-event-indicator\">\n\t\t\t\t\t\t<span className=\"gatherpress-countdown-event-badge\"></span>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{ __( 'Synced with next event in: ', 'gatherpress-countdown' ) }\n\t\t\t\t\t\t\t{ terms.find( t => t.id === gatherPressTermId )?.name }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ ! targetDateTime ? (\n\t\t\t\t\t<div className=\"gatherpress-countdown-placeholder\">\n\t\t\t\t\t\t<p>{ __( 'Select a date and time using the toolbar buttons above.', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : segments.length === 0 ? (\n\t\t\t\t\t<div className=\"gatherpress-countdown-placeholder\">\n\t\t\t\t\t\t<p>{ __( 'Please select at least one time segment to display.', 'gatherpress-countdown' ) }</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"gatherpress-countdown\" data-mode={ mode }>\n\t\t\t\t\t\t{ segments.map( ( segment, index ) => (\n\t\t\t\t\t\t\t<div key={ index } className=\"gatherpress-countdown-segment\">\n\t\t\t\t\t\t\t\t<span className=\"gatherpress-countdown-number\">{ formatNumber( segment.value ) }</span>\n\t\t\t\t\t\t\t\t{ showLabels && (\n\t\t\t\t\t\t\t\t\t<span className=\"gatherpress-countdown-label\">{ segment.label }</span>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","\n/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './style.scss';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport metadata from './block.json';\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nregisterBlockType( metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n} );\n\t","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkblock_gatherpress_countdown\"] = globalThis[\"webpackChunkblock_gatherpress_countdown\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","useBlockProps","InspectorControls","BlockControls","PanelBody","ToggleControl","ToolbarGroup","ToolbarButton","Dropdown","DateTimePicker","Notice","FormTokenField","Spinner","MenuGroup","MenuItem","useState","useEffect","useDispatch","useSelect","dateI18n","getSettings","store","coreStore","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","calculateTimeDifference","targetDateTime","segments","years","months","weeks","days","hours","minutes","seconds","total","now","Date","getTime","target","difference","absDifference","Math","abs","remainingSeconds","floor","result","showYears","secondsPerYear","showMonths","secondsPerMonth","showWeeks","secondsPerWeek","showDays","secondsPerDay","showHours","secondsPerHour","showMinutes","secondsPerMinute","showSeconds","formatNumber","num","toString","padStart","getSegmentLabel","type","value","labels","Edit","attributes","setAttributes","clientId","context","gatherPressEventId","gatherPressTaxonomy","gatherPressTermId","mode","showLabels","segmentConfig","timeLeft","setTimeLeft","selectedEventTokens","setSelectedEventTokens","selectedTermTokens","setSelectedTermTokens","updateBlockAttributes","dateSettings","dateFormat","formats","date","timeFormat","time","dateTimeFormat","contextPostId","postId","contextPostType","postType","isEventContext","contextEventDate","select","getEntityRecord","post","meta","gatherpress_datetime_start","taxonomies","isLoadingTaxonomies","getTaxonomies","isResolving","allTaxonomies","per_page","eventTaxonomies","filter","tax","types","includes","terms","isLoadingTerms","getEntityRecords","nextEventFromTerm","isLoadingNextEvent","queryArgs","status","events","length","isLoadingEvents","orderby","order","selectedEvent","event","find","e","id","title","rendered","term","t","name","eventDate","interval","setInterval","clearInterval","newMode","formattedDate","blockName","metadata","blockProps","className","push","label","handleEventChange","tokens","selectedToken","handleTermChange","handleTaxonomySelect","taxonomy","eventSuggestions","map","termSuggestions","isContextDate","isManualDate","isSyncedEvent","isSyncedTerm","children","contentClassName","position","renderToggle","isOpen","onToggle","icon","onClick","isPressed","renderContent","currentDate","onChange","newDateTime","is12Hour","onClose","suggestions","maxSuggestions","__experimentalExpandOnFocus","__experimentalShowHowTo","slug","isSecondary","isDismissible","checked","help","initialOpen","segment","index","registerBlockType","edit"],"ignoreList":[],"sourceRoot":""}