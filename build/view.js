!function(){"use strict";const e={years:31557600,months:30.44*24*60*60,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1},t=["years","months","weeks","days","hours","minutes","seconds"],n={intervalId:null,visibleTimers:new Set,allTimers:new Set,observer:null};function s(n){const s=n.dataset.target;if(!s)return;const r=n.querySelectorAll(".gatherpress-countdown__segment");if(0===r.length)return;const o=function(e){return{years:"1"===e.dataset.showYears,months:"1"===e.dataset.showMonths,weeks:"1"===e.dataset.showWeeks,days:"1"===e.dataset.showDays,hours:"1"===e.dataset.showHours,minutes:"1"===e.dataset.showMinutes,seconds:"1"===e.dataset.showSeconds}}(n),i=function(e){return t.filter(function(t){return e[t]})}(o),a=function(n,s){const r=(new Date).getTime(),o=new Date(n).getTime()-r,i=Math.abs(o);let a=Math.floor(i/1e3);const l={total:o};return t.forEach(function(t){s[t]?(l[t]=Math.floor(a/e[t]),a-=l[t]*e[t]):l[t]=0}),l}(s,o),l=i.map(function(e){return a[e]});let u=-1;for(let e=0;e<l.length;e++)if(l[e]>0){u=e;break}requestAnimationFrame(function(){r.forEach(function(e,t){if(t>=l.length)return;const n=i[t],s=l[t],r=e.querySelector(".gatherpress-countdown__number"),o=e.querySelector(".gatherpress-countdown__label");if(r){const e=s.toString().padStart(2,"0");r.textContent!==e&&(r.textContent=e)}if(o){const e=function(e,t){const n={years:{singular:"Year",plural:"Years"},months:{singular:"Month",plural:"Months"},weeks:{singular:"Week",plural:"Weeks"},days:{singular:"Day",plural:"Days"},hours:{singular:"Hour",plural:"Hours"},minutes:{singular:"Minute",plural:"Minutes"},seconds:{singular:"Second",plural:"Seconds"}};return n[e]?1===t?n[e].singular:n[e].plural:""}(n,s);o.textContent!==e&&(o.textContent=e)}const a=-1!==u&&t<u&&0===s,c="none"===e.style.display;a&&!c?e.style.display="none":!a&&c&&(e.style.display="")})});const c=a.total<0?"countup":"countdown";n.dataset.mode!==c&&(n.dataset.mode=c)}function r(){0!==n.visibleTimers.size&&n.visibleTimers.forEach(function(e){s(e)})}function o(){n.intervalId||(r(),n.intervalId=setInterval(r,1e3))}function i(){n.intervalId&&(clearInterval(n.intervalId),n.intervalId=null)}function a(e){e.forEach(function(e){e.isIntersecting?(n.visibleTimers.add(e.target),s(e.target),1===n.visibleTimers.size&&o()):(n.visibleTimers.delete(e.target),0===n.visibleTimers.size&&i())})}function l(){const e=document.querySelectorAll(".gatherpress-countdown");0!==e.length&&(e.forEach(function(e){n.allTimers.add(e)}),function(){if(!("IntersectionObserver"in window))return n.allTimers.forEach(function(e){n.visibleTimers.add(e)}),void o();n.observer=new IntersectionObserver(a,{rootMargin:"50px",threshold:0}),n.allTimers.forEach(function(e){n.observer.observe(e)})}())}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l(),window.addEventListener("beforeunload",function(){i(),n.observer&&(n.observer.disconnect(),n.observer=null),n.visibleTimers.clear(),n.allTimers.clear()}),document.addEventListener("visibilitychange",function(){document.hidden?i():n.visibleTimers.size>0&&o()})}();