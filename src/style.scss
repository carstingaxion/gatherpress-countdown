/**
 * Frontend styles using BEM methodology.
 * Applied to both editor and frontend.
 */

// Block
.wp-block-gatherpress-countdown {
	display: flex;
	justify-content: center;
	align-items: center;
	min-height: 120px;
}

// Elements
.gatherpress-countdown {
	&__display {
		display: flex;
		gap: 2rem;
		justify-content: center;
		align-items: center;
		flex-wrap: wrap;
	}

	&__segment {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 0.5rem;
	}

	&__number {
		font-size: 3rem;
		font-weight: 700;
		line-height: 1;
		font-variant-numeric: tabular-nums;
	}

	&__label {
		font-size: 0.875rem;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		opacity: 0.7;
		font-weight: 500;
	}

	&__placeholder {
		text-align: center;
		padding: 2rem;
		color: #757575;
		font-style: italic;

		p {
			margin: 0;
			font-size: 0.95rem;
		}
	}

	&__noscript {
		text-align: center;
		padding: 2rem;
		background: #f9f9f9;
		border: 1px solid #ddd;
		border-radius: 8px;
		margin-top: 1rem;

		p {
			margin: 0.5rem 0;
		}
	}

	&__noscript-note {
		font-size: 0.875rem;
		color: #757575;
		font-style: italic;
	}
}

// Utility
.screen-reader-text {
	clip: rect(1px, 1px, 1px, 1px);
	clip-path: inset(50%);
	height: 1px;
	width: 1px;
	margin: -1px;
	overflow: hidden;
	padding: 0;
	position: absolute;
	word-wrap: normal !important;
}

// Block Style Modifiers
.wp-block-gatherpress-countdown {
	// Classic Style
	&.is-style-classic {
		.gatherpress-countdown__display {
			gap: 1.5rem;
		}

		.gatherpress-countdown__segment {
			background: rgba(0, 0, 0, 0.05);
			padding: 1.5rem 1rem;
			border-radius: 8px;
			min-width: 80px;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
		}

		.gatherpress-countdown__number {
			font-size: 2.5rem;
			color: #1e1e1e;
		}

		.gatherpress-countdown__label {
			color: #555;
			font-size: 0.75rem;
		}
	}

	// Modern Style
	&.is-style-modern {
		.gatherpress-countdown__display {
			gap: 2.5rem;
			padding: 2rem;
		}

		.gatherpress-countdown__segment {
			position: relative;
			padding: 1rem;
			
			&::after {
				content: ':';
				position: absolute;
				right: -1.5rem;
				top: 50%;
				transform: translateY(-50%);
				font-size: 3rem;
				font-weight: 300;
				opacity: 0.3;
			}

			&:last-child::after {
				content: none;
			}
		}

		.gatherpress-countdown__number {
			font-size: 4rem;
			font-weight: 300;
			background: linear-gradient(135deg, currentColor 0%, currentColor 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		.gatherpress-countdown__label {
			font-size: 0.8rem;
			font-weight: 600;
			letter-spacing: 0.1em;
		}
	}

	// Minimal Style
	&.is-style-minimal {
		min-height: auto;
		justify-content: flex-start;

		.gatherpress-countdown__display {
			gap: 0.5em;
			justify-content: flex-start;
			flex-wrap: wrap;
			line-height: 1.6;
			font-size: inherit;
		}

		.gatherpress-countdown__segment {
			flex-direction: row;
			align-items: baseline;
			gap: 0.25em;

			&:not(:last-child)::after {
				content: ',';
				margin-left: 0;
				opacity: 0.7;
			}
		}

		.gatherpress-countdown__number {
			font-size: inherit;
			font-weight: 600;
			line-height: inherit;
			font-family: inherit;
		}

		.gatherpress-countdown__label {
			font-size: inherit;
			font-weight: 400;
			text-transform: none;
			letter-spacing: normal;
			opacity: 1;
			line-height: inherit;
		}
	}

	// Bold Style
	&.is-style-bold {
		.gatherpress-countdown__display {
			gap: 1rem;
			background: rgba(0, 0, 0, 0.8);
			padding: 2rem 3rem;
			border-radius: 16px;
		}

		.gatherpress-countdown__segment {
			background: rgba(255, 255, 255, 0.1);
			padding: 1.5rem 1.25rem;
			border-radius: 12px;
			min-width: 100px;
			backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.1);
		}

		.gatherpress-countdown__number {
			font-size: 3.5rem;
			font-weight: 900;
			color: #ffffff;
			text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
		}

		.gatherpress-countdown__label {
			color: rgba(255, 255, 255, 0.8);
			font-size: 0.75rem;
			font-weight: 700;
			letter-spacing: 0.08em;
		}
	}
}

// Responsive Design
@media (max-width: 768px) {
	.gatherpress-countdown__display {
		gap: 1rem !important;
	}

	.gatherpress-countdown__number {
		font-size: 2rem !important;
	}

	.gatherpress-countdown__label {
		font-size: 0.7rem !important;
	}

	.wp-block-gatherpress-countdown.is-style-bold .gatherpress-countdown__display {
		padding: 1.5rem 2rem;
	}

	.wp-block-gatherpress-countdown.is-style-modern .gatherpress-countdown__segment::after {
		font-size: 2rem;
		right: -1rem;
	}

	// Preserve minimal style inline layout
	.wp-block-gatherpress-countdown.is-style-minimal {
		.gatherpress-countdown__number,
		.gatherpress-countdown__label {
			font-size: inherit !important;
		}
	}
}

@media (max-width: 480px) {
	.gatherpress-countdown__display {
		gap: 0.75rem !important;
	}

	.gatherpress-countdown__number {
		font-size: 1.75rem !important;
	}

	.gatherpress-countdown__segment {
		min-width: 60px !important;
		padding: 1rem 0.75rem !important;
	}

	.wp-block-gatherpress-countdown.is-style-minimal {
		.gatherpress-countdown__display {
			gap: 0.5em !important;
		}

		.gatherpress-countdown__number,
		.gatherpress-countdown__label {
			font-size: inherit !important;
		}

		.gatherpress-countdown__segment {
			min-width: auto !important;
			padding: 0 !important;
		}
	}
}